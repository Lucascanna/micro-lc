{
  "$id": "https://raw.githubusercontent.com/micro-lc/micro-lc/main/packages/layout/src/web-components/mlc-layout/config",
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "Config",
  "description": "Standard micro-lc layout configuration",
  "definitions": {
    "localized-text": {
      "title": "LocalizedText",
      "description": "Translatable text. It can be a string constant for all language or a map linking language rfc5646 language codes to localized strings",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      ]
    },

    "icon": {
      "title": "Icon",
      "description": "Definition of a dynamically loaded icon",
      "type": "object",
      "examples": [
        {
          "selector": "QuestionOutlined",
          "library": "@ant-design/icons-svg"
        }
      ],
      "properties": {
        "selector": {
          "description": "Name of the icon according to the chosen library",
          "type": "string"
        },
        "library": {
          "description": "Library from witch the icon is pulled",
          "enum": [
            "@ant-design/icons-svg",
            "@fortawesome/free-regular-svg-icons",
            "@fortawesome/free-solid-svg-icons"
          ]
        }
      },
      "additionalProperties": false,
      "required": [
        "selector",
        "library"
      ]
    },

    "menu-item": {
      "title": "MenuItem",
      "oneOf": [
        {
          "title": "HrefMenuItem",
          "type": "object",
          "examples": [
            {
              "id": "my-awesome-href-menu-item",
              "type": "href",
              "href": "www.google.com",
              "target": "_self"
            }
          ],
          "properties": {
            "id": {
              "description": "Unique identifier of the href",
              "type": "string"
            },
            "type": {
              "description": "Type of the item: hyperlink to another page",
              "const": "href"
            },
            "label": {
              "$ref": "#/definitions/localized-text"
            },
            "icon": {
              "$ref": "#/definitions/icon"
            },
            "href": {
              "description": "Link's destination",
              "type": "string"
            },
            "target": {
              "description": "Specifies where to open the linked document",
              "default": "_blank",
              "enum": ["_blank", "_self", "_parent", "_top"]
            }
          },
          "additionalProperties": false,
          "required": [
            "id",
            "type",
            "href"
          ]
        },
        {
          "title": "ApplicationMenuItem",
          "type": "object",
          "examples": [
            {
              "id": "my-awesome-href-menu-item",
              "type": "href",
              "href": "www.google.com",
              "target": "_self"
            }
          ],
          "properties": {
            "id": {
              "description": "Unique identifier of the corresponding micro-lc application",
              "type": "string"
            },
            "type": {
              "description": "Type of the item: micro-lc application",
              "const": "application"
            },
            "label": {
              "$ref": "#/definitions/localized-text"
            },
            "icon": {
              "$ref": "#/definitions/icon"
            }
          },
          "additionalProperties": false,
          "required": [
            "id",
            "type"
          ]
        },
        {
          "title": "CategoryMenuItem",
          "type": "object",
          "examples": [
            {
              "id": "my-awesome-href-menu-item",
              "type": "href",
              "href": "www.google.com",
              "target": "_self"
            }
          ],
          "properties": {
            "id": {
              "description": "Unique identifier of the category",
              "type": "string"
            },
            "type": {
              "description": "Type of the item: collapsable sub-menu",
              "const": "category"
            },
            "label": {
              "$ref": "#/definitions/localized-text"
            },
            "icon": {
              "$ref": "#/definitions/icon"
            },
            "children": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/menu-item"
              }
            }
          },
          "additionalProperties": false,
          "required": [
            "id",
            "type"
          ]
        },
        {
          "title": "GroupMenuItem",
          "type": "object",
          "examples": [
            {
              "id": "my-awesome-href-menu-item",
              "type": "href",
              "href": "www.google.com",
              "target": "_self"
            }
          ],
          "properties": {
            "id": {
              "description": "Unique identifier of the group",
              "type": "string"
            },
            "type": {
              "description": "Type of the item: non-collapsable group of items",
              "const": "group"
            },
            "label": {
              "$ref": "#/definitions/localized-text"
            },
            "children": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/menu-item"
              }
            }
          },
          "additionalProperties": false,
          "required": [
            "id",
            "type"
          ]
        }
      ]
    }
  },
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string"
    },

    "mode": {
      "title": "Mode",
      "description": "How the layout will be structured",
      "default": "overlaySideBar",
      "enum": [
        "fixedSideBar",
        "overlaySideBar",
        "topBar"
      ]
    },

    "menuItems": {
      "description": "Ordered list of items to display in the menu",
      "type": "array",
      "items": {
        "$ref": "#/definitions/menu-item"
      }
    },

    "logo": {
      "title": "Logo",
      "description": "Information needed to display the company logo",
      "type": "object",
      "properties": {
        "urlLightImage": {
          "description": "URL of the logo image for light theme",
          "type": "string"
        },
        "urlDarkImage": {
          "description": "URL of the logo image for dark theme",
          "type": "string"
        },
        "href": {
          "description": "URL of the site the users are redirected to when they click the logo",
          "type": "string"
        },
        "altText": {
          "description": "Alternative text to display if the logo is not found",
          "type": "string"
        }
      },
      "additionalProperties": false
    },

    "helpMenu": {
      "title": "HelpMenu",
      "description": "Configuration of the help menu rendered on the top bar",
      "type": "object",
      "properties": {
        "helpLink": {
          "description": "Link to the help page",
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": [
        "helpLink"
      ]
    },

    "userMenu": {
      "title": "UserMenu",
      "description": "Configuration of the user menu rendered on the top bar",
      "type": "object",
      "properties": {
        "userInfoUrl": {
          "description": "URL called in GET to retrieve user data",
          "type": "string",
          "format": "uri-reference"
        },
        "userPropertiesMapping": {
          "description": "Mapping between the properties returned from the user info URL call and the ones expected by the component",
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "avatar": {
              "type": "string"
            }
          },
          "additionalProperties": {
            "type": "string"
          }
        },
        "logout": {
          "description": "Configuration needed to perform user logout",
          "type": "object",
          "properties": {
            "method": {
              "description": "Method used to perform the call to the URL specified in the 'url' property",
              "default": "POST",
              "enum": [
                "GET",
                "POST",
                "PATCH",
                "DELETE",
                "PUT"
              ]
            },
            "url": {
              "description": "URL called to logout the user. The method used is the one specified in the 'method' property",
              "type": "string",
              "format": "uri-reference"
            },
            "redirectUrl": {
              "description": "URL to be redirected to after the logout",
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false,
      "required": [
        "userInfoUrl"
      ]
    },

    "enableDarkMode": {
      "description": "If true, the dark mode switch will be rendered on the top bar",
      "type": "boolean",
      "default": false
    },

    "head": {
      "title": "Head",
      "description": "Configuration for the HTML document head",
      "type": "object",
      "properties": {
        "favIconUrl": {
          "description": "Url of the fav icon",
          "type": "string"
        },
        "title": {
          "description": "Title of the tab",
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
